@model EmpleosWebMax.Application.ViewModels.InvoiceViewModel

@{
    ViewData["Title"] = "Detail";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";

}

<script src="https://printjs.crabbly.com/print.js?v1.5.0" type="text/javascript"></script>

<div  id="container" class="container">
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-body p-0">
                    <div class="row p-5">
                        <div class="col-md-6">
                            <img src="~/images/EmpleoMax3.png" width="400" height="90" />
                        </div>



                        <div class="col-md-6 text-right">
                            <div>
                                <a id="printjs" class="btn btn-outline-secondary"><i class="fas fa-print"></i> Imprimir</a>
                            </div>
                            <div style="margin-top:10px">
                                <p class="font-weight-bold mb-1">Numero de factura #@Model.InvoiceNumber</p>
                                <p class="text-muted">@Model.DateFinishPlan</p>
                            </div>
                        </div>
                    </div>

                    <hr class="my-5">

                    <div class="row pb-5 p-5">
                        <div class="col-md-6">
                            <p class="font-weight-bold mb-4">Informacion de cliente</p>
                            <p class="mb-1">@Model.UserName</p>
                            <p>@Model.UserEmail</p>

                        </div>

                        <div class="col-md-6 text-right">
                            <p class="font-weight-bold mb-4">Detalles de pago</p>
                            <p class="mb-1"><span class="text-muted">VAT: </span> @Model.InvoiceNumber</p>
                            <p class="mb-1"><span class="text-muted">Nombre: </span> @Model.UserName</p>
                        </div>
                    </div>
                    @*                    <th class="border-0 text-uppercase small font-weight-bold">ID</th>
                    *@
                    <div class="row p-5">
                        <div class="col-md-12">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th class="border-0 text-uppercase small font-weight-bold">Qty</th>
                                        <th class="border-0 text-uppercase small font-weight-bold">Plan</th>
                                        <th class="border-0 text-uppercase small font-weight-bold">Servicio</th>
                                        <th class="border-0 text-uppercase small font-weight-bold">Descripción</thclass="border-0>
                                        <th class="border-0 text-uppercase small font-weight-bold">Impuesto</th>
                                        <th class="border-0 text-uppercase small font-weight-bold">Precio</th>
                                        <th class="border-0 text-uppercase small font-weight-bold">Monto</thclass="border-0>
                                        <th class="border-0 text-uppercase small font-weight-bold">Total</th>

                                    </tr>
                                </thead>
                                <tbody>

                                    @foreach (var item in Model.InvoiceLinesWithOutPaging)
                                    {

                                        <tr>
                                            <td>@item.Quantity</td>
                                            <td>@item.PlanName</td>
                                            <td>@item.ServiceName</td>
                                            <td>@item.Description</td>
                                            <td>@item.TaxAmount</td>
                                            <td>@item.Price</td>
                                            <td>@item.Amount</td>
                                            <td>@item.TotalAmount</td>


                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="d-flex flex-row-reverse bg-dark text-white p-4">
                        <div class="py-3 px-5 text-right">
                            <div class="mb-2">Total</div>
                            <div class="h2 font-weight-light">@Model.Total$</div>
                        </div>
                        <div class="py-3 px-5 text-right">
                            <div class="mb-2">Impuesto</div>
                            <div class="h2 font-weight-light">@Model.TaxAmount$</div>
                        </div>
                        <div class="py-3 px-5 text-right">
                            <div class="mb-2">Descuento</div>
                            <div class="h2 font-weight-light">@Model.Discount%</div>
                        </div>

                        <div class="py-3 px-5 text-right">
                            <div class="mb-2">Sub - Total</div>
                            <div class="h2 font-weight-light">@Model.Subtotal$</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    @* <div>
            @Html.ActionLink("Edit", "Edit", new { /* id = Model.PrimaryKey */ }) |
            <a asp-action="Index">Back to List</a>
        </div>*@
    <script src="~/js/PrintJs/print.js"></script>
    <script>
        function printTest() {
            printJS('container', 'html');
        }

        document.getElementById("printjs").addEventListener("click", printTest);

    </script>
